# M3W Standard Deployment Environment Variables (Separated Containers)

# ==============================================
# Frontend Configuration
# ==============================================

# API base URL (relative path for internal proxy)
API_BASE_URL=/api

# ==============================================
# Backend Configuration
# ==============================================

# Database
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/m3w?schema=public

# MinIO (S3-compatible storage)
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false
MINIO_BUCKET_NAME=m3w-music

# JWT Authentication (⚠️ CHANGE THIS IN PRODUCTION!)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-secret-key-here-please-change-this-in-production
JWT_ACCESS_EXPIRY=6h
JWT_REFRESH_EXPIRY=90d

# GitHub OAuth (⚠️ Configure your GitHub OAuth app)
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_CALLBACK_URL=http://localhost/api/auth/callback

# Server Configuration
PORT=4000
HOST=0.0.0.0
# Standard: frontend at http://localhost, backend internal
API_BASE_URL=http://localhost
CORS_ORIGIN=http://localhost

# Node Environment
NODE_ENV=production

# ==============================================
# Database Service (PostgreSQL)
# ==============================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=m3w

# ==============================================
# Storage Service (MinIO)
# ==============================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
