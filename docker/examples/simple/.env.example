# M3W All-in-One Deployment Environment Variables

# ==============================================
# Backend Configuration
# ==============================================

# Database
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/m3w?schema=public

# MinIO (S3-compatible storage)
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false
MINIO_BUCKET_NAME=m3w-music

# JWT Authentication (⚠️ CHANGE THIS IN PRODUCTION!)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-secret-key-here-please-change-this-in-production
JWT_ACCESS_EXPIRY=6h
JWT_REFRESH_EXPIRY=90d

# GitHub OAuth (⚠️ Configure your GitHub OAuth app)
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_CALLBACK_URL=http://localhost:4000/api/auth/callback

# Server Configuration
PORT=4000
HOST=0.0.0.0
# All-in-One: same origin for frontend and backend
API_BASE_URL=http://localhost:4000
CORS_ORIGIN=http://localhost:4000
SERVE_FRONTEND=true

# Node Environment
NODE_ENV=production

# ==============================================
# Database Service (PostgreSQL)
# ==============================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=m3w

# ==============================================
# Storage Service (MinIO)
# ==============================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# ==============================================
# Optional: Demo Mode (for RC builds only)
# ==============================================
# Uncomment these if using RC image (m3w:rc)
# DEMO_MODE=true
# DEMO_STORAGE_LIMIT=5368709120  # 5GB
# DEMO_RESET_ENABLED=false  # ⚠️ Dangerous! Only for testing
